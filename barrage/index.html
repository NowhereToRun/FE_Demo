<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
	/>
	<meta name="apple-mobile-web-app-capable" content="no" id="fullscreen" />

	<meta name="format-detection" content="telephone=no" />
	<meta name="keywords" content="请动态填入关键词" />
	<meta name="description" content="请动态填入页面内容的相关陈述" />

	<link rel="apple-touch-icon" sizes="57x57" href="" />
	<link rel="apple-touch-icon" sizes="72x72" href="" />
	<link data-logo="" rel="apple-touch-icon" sizes="114x114" href="" />
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<style>
		.layer_barrage {
			position: relative;
			width: 100%;
		}

		/*弹幕样式*/
		.barrageUl li {
			font-size: 12px;
			padding: 0 15px;
			color: #fff;
			display: block;
			white-space: nowrap;
			text-overflow: ellipsis;
			background: rgba(0, 0, 0, 0.5);
			border-radius: 11px;
			transform: translate3d(1px, 0, 0);
		}
	</style>
	<title>弹幕Demo</title>
</head>

<body>
	<div class="bs-example">
		<div class="form-group">
			<label for="exampleInputPassword1">填写内容进入弹幕(eg:说的好！)</label>
			<input type="text" class="form-control j_bcontent" id="exampleInputPassword1">
		</div>
		<button type="submit" class="btn btn-default j_insert_barrage">插入弹幕</button>
	</div>

	<button type="submit" class="btn btn-default j_pause_barrage">暂停</button>
	<button type="submit" class="btn btn-default j_start_barrage">开始</button>
	<button type="submit" class="btn btn-default j_stop_barrage">停止</button>

	<section class="layer_barrage" style="height:300px">

	</section>
	<script src="https://cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
	<script src="./barrage_zepto.js"></script>
	<script>
		$('.j_insert_barrage').on('click', function () {
			var text = $('.j_bcontent').val();
			console.log(text);
			danMu.insert(text);
		});

		$('.j_stop_barrage').on('click', function () {
			danMu.stop();
			$('.j_start_barrage').removeAttr('disabled');
			$('.j_stop_barrage').attr('disabled', 'disabled');
		});

		$('.j_start_barrage').on('click', function () {
			danMu.start(danMuLib, true);
			$('.j_start_barrage').attr('disabled', 'disabled');
			$('.j_stop_barrage').removeAttr('disabled');
		})


		var danMuConfig = {
			rows: 5,
			showTime: 5000,
			intervalTime: 4000,
			lineSpace: 24,
			randomMax: 2000,
			layerClass: 'barrageUl',
			parent: '.layer_barrage'
		}

		var danMuLib = [
			{ 'content': '厉害了，神评论！' },
			{ 'content': '火钳刘明' },
			{ 'content': '什么鬼' },
			{ 'content': '心疼二楼30秒' },
			{ 'content': '老哥很稳~' },
			{ 'content': '一本正经的胡说八道' },
			{ 'content': '6666666666' },
			{ 'content': '高能预警' },
			{ 'content': '滴，老年卡' },
			{ 'content': '2333333' },
			{ 'content': '老司机开车' }
		]
		$('.j_start_barrage').attr('disabled', 'disabled');
		var danMu = new DanMu(danMuConfig);
		danMu.start(danMuLib, true);
	</script>
</body>

</html>